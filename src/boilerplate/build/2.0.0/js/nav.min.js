define(["jquery"],function(k){jQuery.fn.krNav=function(n){var a,s,i,l,e,t,r,d,u,o,c,f,C,v,p,m,h;return n=jQuery.extend({closeOnResize:!0,scroll:!0,scrollOffset:0,scrollSpeed:600,slideSpeed:"slow",activeClass:"-is-active",expandedClass:"-is-expanded",breakpoint:768},n),0!==k(this).length&&(c=k(this),i=c.find("> ul"),s=c.find("> ul > li"),a=c.find("> ul > li > a"),t=c.find("> ul > li > ul"),e=c.find("> ul > li > ul > li"),l=c.find("> ul > li > ul > li > a"),u=c.find("> ul > li > ul > li > ul"),d=c.find("> ul > li > ul > li > ul > li"),r=c.find("> ul > li > ul > li > ul > li > a"),f=k("<span>",{class:"kr-nav-main-trigger","aria-hidden":"true"}),o=k("<button>",{class:"kr-nav-main-burger",html:"<span>Menu</span>"}),i.addClass("kr-nav-main-1-ul"),s.addClass("kr-nav-main-1-li"),a.addClass("kr-nav-main-1-a"),t.addClass("kr-nav-main-2-ul"),e.addClass("kr-nav-main-2-li"),l.addClass("kr-nav-main-2-a"),u.addClass("kr-nav-main-3-ul"),d.addClass("kr-nav-main-3-li"),r.addClass("kr-nav-main-3-a"),c.find(".kr-nav-main-1-a + ul").before(f),u.prev(".kr-nav-main-2-a").addClass("-is-sub-parent"),c.show(),setTimeout(function(){return c.find("a."+n.activeClass).parents("li").each(function(){return C(k(this)),C(k(this).children("a:not(."+n.activeClass+")"))})},0),c.find("a."+n.activeClass).parents("li").each(function(){return k(this).addClass(n.activeClass),k(this).children("a:not(."+n.activeClass+")").addClass(n.activeClass)}),o.on("click",function(){return h(c)?(p(c),i.slideUp(n.slideSpeed,function(){return k(this).removeAttr("style")})):(C(c),i.slideDown(n.slideSpeed),n.scroll?k("html, body").animate({scrollTop:c.offset().top+n.scrollOffset},n.scrollSpeed):k("html, body").scrollTop(0))}).prependTo(c),k(".kr-nav-main-trigger").on("click",function(){var a;return a=k(this),p(k(".kr-nav-main-trigger").not(k(this))),v(c.find("."+n.expandedClass).not(a)),h(a)?(p(a),v(c.find("."+n.expandedClass))):(C(a),m(a.parent("li")))}),k(window).on("resize",function(){if(v(c.find("."+n.expandedClass)),n.closeOnResize&&c.is("."+n.activeClass)&&k(window).width()>=n.breakpoint)return p(c),i.removeAttr("style")}),m=function(a){return a.addClass(n.expandedClass)},v=function(a){return a.removeClass(n.expandedClass)},C=function(a){return a.addClass(n.activeClass)},p=function(a){return a.removeClass(n.activeClass)},h=function(a){return!!a.hasClass(n.activeClass)},function(a){return!!a.hasClass(n.expandedClass)},this)}});